 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
 <script type="text/javascript" src="ckplayer/ckplayer.js"></script>
<div class="video" style="width: 100%;height: 100%;"></div>
<script type="text/javascript">
function GetQueryString(key){
    // 获取参数
    var url = window.location.search;
    // 正则筛选地址栏
    var reg = new RegExp("(^|&)"+ key +"=([^&]*)(&|$)");
    // 匹配目标参数
    var result = url.substr(1).match(reg);
    //返回参数值
    return result ? decodeURIComponent(result[2]) : null;
}
	var videoObject = {
		container: '.video',
		variable: 'player',
		autoplay:true,
		loaded: 'loadedHandler',
		video:GetQueryString("url")
	};
	var player=new ckplayer(videoObject);
	function loadedHandler() {
		player.addListener('error', errorHandler); //监听元数据
	}
 
	function errorHandler() {console.log("播放错误");
		window.location.href=window.location.href.replace(/m3u8\.html/,'dplayer.html');
	}
</script>